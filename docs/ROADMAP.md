# Дорожная карта версий

Этот документ описывает план версий и критерии «готово». Придерживаемся SemVer (MAJOR.MINOR.PATCH).

- MAJOR — несовместимые изменения (схема БД, формат API/JSON, протокол команд).
- MINOR — обратносovместимые фичи и улучшения.
- PATCH — исправления, стабильность, документация.

Текущий статус проекта: v0.3 (локальный генератор + CLI и Telegram‑бот; SQLite‑хранилище и экспорт файлов).

## 0.x — Пре-релизы (внутренние этапы)
- 0.1 — Локальный генератор и CLI — ГОТОВО
  - Ollama, модель по умолчанию `phi3:mini`, JSON‑выход, базовый промпт.
  - Минимальный HTTP‑клиент, сервис генерации, CLI‑демо.
- 0.2 — Телеграм‑скелет — ГОТОВО
  - aiogram 3.x, команды /start, простой сценарий: платформа → ввод данных → единичная генерация.
  - Без БД, без экспорта в файлы.
- 0.3 — Хранилище и экспорт — ТЕКУЩАЯ
  - SQLite: хранение последних N генераций на пользователя.
  - Экспорт .txt и .csv в чат.
- 0.3 — Хранилище и экспорт
  - SQLite: хранение последних N генераций на пользователя.
  - Экспорт .txt и .csv в чат.
- 0.4 — Платформы и пресеты
  - Профили Ozon/WB/Etsy/Shopify: лимиты, поля, подсказки.
  - Настройки стиль/длина, базовая валидация длин и полей.
- 0.5 — Надёжность и конфигурирование
  - Стабильный JSON‑парсинг (повторные попытки/коррекция), таймауты/ретраи.
  - .env конфигурация, логирование, базовые метрики.

## 1.x — MVP и улучшения
- 1.0 — MVP (Ollama)
  - Полный поток в Telegram с FSM: платформа → данные → стиль/длина → генерация → экспорт/повтор.
  - Локальная модель через Ollama (`phi3:mini`), настройки через .env.
  - Экспорт .txt/.csv, хранение последних N генераций в SQLite.
  - Логи и инструкция по развёртыванию.
- 1.1 — Качество
  - По возможности стриминг ответов, индикаторы прогресса.
  - Тюнинг промптов по платформам, устойчивый JSON (self‑healing перегенерации).
  - Троттлинг/очередь задач, отмена запроса, кэш входов.
- 1.2 — UX и поддержка
  - Шаблоны/пресеты категорий, локализация RU/EN.
  - Админ‑команды: лимиты, просмотр логов, выгрузка статистики.
  - Бэкапы SQLite, ротация логов, health‑check.

## 2.0 — Расширяемость провайдеров
- Абстракция LLM‑провайдеров: Ollama по умолчанию + опция Transformers/OpenAI‑совместимые.
- Переключение моделей в рантайме, шаблоны под платформы/модели.
- При росте нагрузки — вынос генерации в отдельный HTTP‑сервис с очередью.

## 3.0 — Продвинутые возможности
- Мультимодальность: извлечение характеристик из фото (Qwen‑VL/LLaVA) и авто‑черновик.
- Массовая генерация по CSV/Google Sheets, прогресс задач, отчёты.
- Персонализация: сохранённые тоны/шаблоны/лексикон бренда.

## Критерии «Готово»
- 1.0: стабильный поток в Telegram, экспорт, SQLite, работа на CPU‑only с квантованной моделью, документация по запуску.
- 1.1: улучшенный UX/скорость, без регрессий по БД/формату.
- 2.0: добавлены провайдеры без поломки сценариев; миграции задокументированы.

## Процесс релизов
- Семантические теги Git: `vX.Y.Z`.
- CHANGELOG с краткими пунктами (Added/Changed/Fixed/Docs).
- При изменениях БД/формата — миграции и инструкция в `docs/migrations/` или в релиз‑нотах.
- Вопросы/идеи — заводить задачи/тикеты по версиям.
